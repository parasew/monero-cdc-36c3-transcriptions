# Pavel Polach

_**Critical Decentralisation Cluster 36c3 - RMX Hardware Wallet (Pavel Polach)**_

[youtu.be/-4E8c2V3wtU](https://youtu.be/-4E8c2V3wtU)

_**Abstract**_

We are building a hw device for privacy extremists and we want to talk a bit about it.

_**Transcription**_

_Diego:_ Oh wait, we are ready, ok. They finish their game they lost, they usually lose. So I'm gonna hand this mic over to Pavel, he’s going to give me a great big hand, he's gonna talk with us about hardware wallet stuff yeah. Ok, here we go.

_Pavel:_ Ok, thank you Diego. Do you hear me? Yeah, ok. It sounds quite different here than there. Ok, ok. Hi, I'm Pavel. I'm here to speak about RMX wallet project which we are working on. It's definitely not only me working on that, a more people. But
I will talk about it here.

Ok, so what I would like to go through today is there are four main points. One is how we are trying to keep the project going, then there is a hardware messenger which we are trying to implement, there's also Monero wallet implementation we are trying to do, and the last point is hardware security of the project.

So building hardware is challenging itself. I don't know how many of you ever tried to build something and do it in an open source manner. And it's not so easy to find the contributors and developers who work like for free, do that stuff, and they do some commits which actually have a sense. So at the end you find out that there is like combination of the depression and hard working nights, and it's not so easy always. We are a lot of thinking about the next steps because every time when you are working on something you should know, you should have at least clear picture of what is coming after, because otherwise there are people asking you what they should do and why, and you must you must coordinate them somehow. It's very important to have some policy how to avoid burnout, because it's very obvious. And the last thing is funding. The best is if you don't need the funding at all. But it's very hard again with the hardware, because actually you are burning the real-world resources, you are building boards, you're soldering, ordering parts and it's really expensive if you compare it to the coding, because coding is for free.

Ok, so what we have here is we have a device, and because we are trying to be very lean on the development, we are building it in a couple of pieces. So it looks like that, it has alphanumeric keyboard, and the first thing we were implementing on that is hardware messenger, and it looks like that: you have a two devices, you plug them to USB, and you write down a message on a one device, you write it out like SMS if you remember the old Nokia style keyboards, so it's sort of like that, and then you can send this message over Internet. We are using XMPP protocol, because it's very easy to do, to work with. But we are open to another option. So if you think that you understand messengers, and you think that we can use something different, please tell us, we can implement it later. So right now we are able to send a message from one device to another, and it's like, it's encrypted so, it's one it's escaped the device is like binary blob, and nobody can read it ok.

Well, implementing a Monero wallet. For those who don't know how Monero wallet concept works, so basically Monero uses two keys, I hope probably a lot of people know about it, but just briefly. You have a Monero blockchain, which is like a bunch of data, and then you have a secret view key and secret spend key, and those two keys are in a wallet, and what wallet does is that it just takes the key for a certain operation the wallet wants to do. So if you want to distinguish for example which output belongs to you, you are using a secret view key, and if you want to sign transaction, you are using a secret spend key. Or if you want to distinguish if the output is spent, you are also using the secret spend key ok. So basically if you want to implement Monero wallet you must be sure about the way how we are using the secret view key and secret spend key.

Yeah, this is what I described.

Ok, at first the difference between a Bitcoin and a Monero is that in Bitcoin everything is in plain text, but the Monero uses a blockchain where everything is encrypted. So if you are doing a scanning, if you want to distinguish how many outputs are there are yours, and balances, and all the stuff, you must do a lot of cryptographic operations, you just basically take a piece of data, then you unlock it with some cryptographic magic, and then you see, if it's yours or it's not yours, and then you go more into that. And this is really like resources hungry, it needs a lot of computational power, so that's why usual approach in this like cryptocurrency field of a different manufactures of hardware wallets is they choose a public scanning to do a Monero scanning of blockchain. If they are doing a public scanning that means that they offload this view key to the host, and this part of the scanning is done on your PC. And then when you distinguish which output is yours, then at that point the private key comes into play and starts to do that unmasking and more operation on that. And this is the point where we think that we are a little bit wasting the beauty of the Monero protocol, because it was designed in a private way, and by leaking out the view key you are basically like crippling it a little bit. So this is why we wanted to do a hardware wallet which is doing a private scanning.

The problem is that with the hardware wallet you want to use like dumb processor which is simple to program, and it doesn't have too much anything more than you need, and at the same time you need a lot of computational power for that. That's why we are working with this microchip CEC1702, because it's basically Cortex M4F with block which is used for hardware accelerating like the certain functions which we are using in a code. So we are trying to implement the whole Monero scanning and whole stuff, and we are using this certain accelerated functions to make it faster also on this dump processor, ok. So those numbers are what we estimate could be feasible, we have a working wallet right now, but it's a little bit slower than that, but there is a lot of room for improvement. So I believe we can get close to this ok. There is a big question also because right now we have maybe seven transactions in a block on a Monero mainnet. It could be enough now for our project, but in the future when there is more transactions, there is probably more need to do something faster ok, but this is what we have now.

And if I want to speak a little bit about hardware security of the thing which we are using like of the CEC1702. It has a secure boot feature — it’s booting only signed images ok. It's vulnerable of course to some fault injection and glitches as every kind of this Cortex m4 processors. You can avoid this security problems with using a passphrase, you can have your own source of random which we also have on the board. We have a own two random number generator, and also we are using a couple of secure elements to combine the random to make a seed. So there are some ways how we would like to improve it, but basically we know about this the possibilities of attacks which people usually do on Cortex m4 and we want to avoid that by using secure elements and own source of random.

Ok, now I would like to speak a little bit about the project itself, because we are so we are so lean in terms of management, that sometimes I'm not sure if we even exist. But we are working one and half year on that, and we have like five prototypes, and the last prototype is I would say quite working. And we would like to continue more with work on that, and in case we find out that it's not enough in the terms of speed or computational power, we will probably switch to FPGA, or maybe we will do some experiments with RISK-V in a short term future who knows. But right now we would like to use that microchip because it has enough computational power, and if it's not enough we will just improve with something faster ok. Ok, that's all. If you have some questions… no questions. Ah, it's time for Diego.

_Diego:_ It’s time for me! Thank you so much Pavel. Let's give him a second round of applause. Ok, stop. Let's give my third round of applause. And that's all you get. So thank you so much Pavel we're gonna go ahead and send him off the stage.
